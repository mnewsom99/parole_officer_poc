{
    "roles": {
        "description": "Defines user roles and permissions.",
        "context": "Core RBAC functionality",
        "usage": "Login, Admin Panel, User Management",
        "fields": [
            {
                "name": "role_id",
                "type": "INTEGER",
                "key": "PK"
            },
            {
                "name": "role_name",
                "type": "VARCHAR(50)",
                "key": "Unique"
            },
            {
                "name": "description",
                "type": "VARCHAR(255)",
                "key": ""
            }
        ]
    },
    "users": {
        "description": "System users (Officers, Admins, Supervisors).",
        "context": "Authentication and Identity",
        "usage": "Login, Profile, User Management",
        "fields": [
            {
                "name": "user_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "username",
                "type": "VARCHAR(50)",
                "key": "Unique"
            },
            {
                "name": "email",
                "type": "VARCHAR(100)",
                "key": "Unique"
            },
            {
                "name": "password_hash",
                "type": "VARCHAR(255)",
                "key": ""
            },
            {
                "name": "role_id",
                "type": "INTEGER",
                "key": "FK"
            },
            {
                "name": "created_at",
                "type": "DATETIME",
                "key": ""
            },
            {
                "name": "last_login",
                "type": "DATETIME",
                "key": ""
            },
            {
                "name": "is_active",
                "type": "BOOLEAN",
                "key": ""
            }
        ]
    },
    "locations": {
        "description": "Physical office locations (Field Offices, HQ).",
        "context": "Organizational hierarchy and resource allocation",
        "usage": "Office Locations, Dashboard, Territory Management",
        "fields": [
            {
                "name": "location_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "name",
                "type": "VARCHAR(100)",
                "key": ""
            },
            {
                "name": "address",
                "type": "VARCHAR(255)",
                "key": ""
            },
            {
                "name": "type",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "zip_code",
                "type": "VARCHAR(10)",
                "key": ""
            },
            {
                "name": "phone",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "fax",
                "type": "VARCHAR(50)",
                "key": ""
            }
        ]
    },
    "officers": {
        "description": " sworn personnel details linked to Users.",
        "context": "Links auth User to distinct Officer entity with badge/caseload",
        "usage": "Dashboard, Case Load, Assignments",
        "fields": [
            {
                "name": "officer_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "user_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "location_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "supervisor_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "badge_number",
                "type": "VARCHAR(20)",
                "key": "Unique"
            },
            {
                "name": "first_name",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "last_name",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "phone_number",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "cell_phone",
                "type": "VARCHAR(50)",
                "key": ""
            }
        ]
    },
    "offenders": {
        "description": "Core entity for individuals under supervision.",
        "context": "Central record for all supervision activities",
        "usage": "All Pages (Caseload, Profile, Search)",
        "fields": [
            {
                "name": "offender_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "badge_id",
                "type": "VARCHAR(20)",
                "key": "Unique"
            },
            {
                "name": "first_name",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "last_name",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "dob",
                "type": "DATE",
                "key": ""
            },
            {
                "name": "image_url",
                "type": "VARCHAR(255)",
                "key": ""
            },
            {
                "name": "gender",
                "type": "VARCHAR(20)",
                "key": ""
            },
            {
                "name": "is_sex_offender",
                "type": "BOOLEAN",
                "key": ""
            },
            {
                "name": "is_gang_member",
                "type": "BOOLEAN",
                "key": ""
            },
            {
                "name": "gang_affiliation",
                "type": "VARCHAR(100)",
                "key": ""
            },
            {
                "name": "release_date",
                "type": "DATE",
                "key": ""
            },
            {
                "name": "reversion_date",
                "type": "DATE",
                "key": ""
            },
            {
                "name": "release_type",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "initial_placement",
                "type": "VARCHAR(100)",
                "key": ""
            },
            {
                "name": "general_comments",
                "type": "TEXT",
                "key": ""
            },
            {
                "name": "created_at",
                "type": "DATETIME",
                "key": ""
            }
        ]
    },
    "supervision_episodes": {
        "description": "Tracks specific periods of supervision (Assignments).",
        "context": "Allows history of supervision (Active vs Closed)",
        "usage": "Offender Profile, Dashboard Stats",
        "fields": [
            {
                "name": "episode_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "offender_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "assigned_officer_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "start_date",
                "type": "DATE",
                "key": ""
            },
            {
                "name": "end_date",
                "type": "DATE",
                "key": ""
            },
            {
                "name": "status",
                "type": "VARCHAR(20)",
                "key": ""
            },
            {
                "name": "risk_level_at_start",
                "type": "VARCHAR(20)",
                "key": ""
            },
            {
                "name": "current_risk_level",
                "type": "VARCHAR(20)",
                "key": ""
            },
            {
                "name": "closing_reason",
                "type": "VARCHAR(100)",
                "key": ""
            }
        ]
    },
    "tasks": {
        "description": "Action items and compliance tasks.",
        "context": "Workflow management for officers",
        "usage": "Dashboard, Offender Profile",
        "fields": [
            {
                "name": "task_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "episode_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "created_by",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "assigned_officer_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "title",
                "type": "VARCHAR(100)",
                "key": ""
            },
            {
                "name": "description",
                "type": "TEXT",
                "key": ""
            },
            {
                "name": "due_date",
                "type": "DATE",
                "key": ""
            },
            {
                "name": "status",
                "type": "VARCHAR(20)",
                "key": ""
            },
            {
                "name": "created_at",
                "type": "DATETIME",
                "key": ""
            },
            {
                "name": "updated_at",
                "type": "DATETIME",
                "key": ""
            }
        ]
    },
    "territories": {
        "description": "Geographic assignments by Zip Code.",
        "context": "Enables auto-assignment of incoming cases",
        "usage": "Territory Management",
        "fields": [
            {
                "name": "zip_code",
                "type": "VARCHAR(10)",
                "key": "PK"
            },
            {
                "name": "assigned_location_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "region_name",
                "type": "VARCHAR(100)",
                "key": ""
            },
            {
                "name": "created_at",
                "type": "DATETIME",
                "key": ""
            }
        ]
    },
    "territory_officers": {
        "description": "Association table for Territory <-> Officer.",
        "context": "Supports multiple officers sharing a single zip code coverage",
        "usage": "Territory Management",
        "fields": [
            {
                "name": "zip_code",
                "type": "VARCHAR(10)",
                "key": "PK"
            },
            {
                "name": "officer_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "is_primary",
                "type": "BOOLEAN",
                "key": ""
            }
        ]
    },
    "special_assignments": {
        "description": "Overrides for non-geographic assignments (Facilities, Specialties).",
        "context": "Handles cases like SMI or Residential Facilities that bypass Zip rules",
        "usage": "Territory Management",
        "fields": [
            {
                "name": "assignment_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "type",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "name",
                "type": "VARCHAR(100)",
                "key": ""
            },
            {
                "name": "address",
                "type": "VARCHAR(255)",
                "key": ""
            },
            {
                "name": "zip_code",
                "type": "VARCHAR(10)",
                "key": ""
            },
            {
                "name": "assigned_officer_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "priority",
                "type": "INTEGER",
                "key": ""
            }
        ]
    },
    "residences": {
        "description": "Address history for offenders.",
        "context": "Tracks current and past locations for geo-matching",
        "usage": "Offender Profile",
        "fields": [
            {
                "name": "residence_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "episode_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "address_line_1",
                "type": "VARCHAR(255)",
                "key": ""
            },
            {
                "name": "city",
                "type": "VARCHAR(100)",
                "key": ""
            },
            {
                "name": "state",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "zip_code",
                "type": "VARCHAR(10)",
                "key": ""
            },
            {
                "name": "is_current",
                "type": "BOOLEAN",
                "key": ""
            },
            {
                "name": "special_assignment_id",
                "type": "UUID",
                "key": "FK"
            }
        ]
    },
    "case_notes": {
        "description": "Table for case_notes",
        "context": "General data storage",
        "usage": "Backend API",
        "fields": [
            {
                "name": "note_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "offender_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "author_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "date",
                "type": "DATETIME",
                "key": ""
            },
            {
                "name": "content",
                "type": "TEXT",
                "key": ""
            },
            {
                "name": "type",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "is_pinned",
                "type": "BOOLEAN",
                "key": ""
            }
        ]
    },
    "programs": {
        "description": "Rehabilitation programs assigned to offenders.",
        "context": "Tracks progress and completion of mandated programs",
        "usage": "Offender Profile",
        "fields": [
            {
                "name": "program_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "offender_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "name",
                "type": "VARCHAR(100)",
                "key": ""
            },
            {
                "name": "category",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "provider",
                "type": "VARCHAR(100)",
                "key": ""
            },
            {
                "name": "status",
                "type": "VARCHAR(20)",
                "key": ""
            },
            {
                "name": "start_date",
                "type": "DATE",
                "key": ""
            },
            {
                "name": "end_date",
                "type": "DATE",
                "key": ""
            },
            {
                "name": "notes",
                "type": "TEXT",
                "key": ""
            }
        ]
    },
    "fee_balances": {
        "description": "Current outstanding balance for offenders.",
        "context": "Financial tracking",
        "usage": "Offender Profile (Financials)",
        "fields": [
            {
                "name": "offender_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "balance",
                "type": "FLOAT",
                "key": ""
            },
            {
                "name": "last_updated",
                "type": "DATETIME",
                "key": ""
            }
        ]
    },
    "fee_transactions": {
        "description": "Ledger of financial charges and payments.",
        "context": "Audit trail for fees",
        "usage": "Offender Profile (Financials)",
        "fields": [
            {
                "name": "transaction_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "offender_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "transaction_date",
                "type": "DATE",
                "key": ""
            },
            {
                "name": "type",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "amount",
                "type": "FLOAT",
                "key": ""
            },
            {
                "name": "description",
                "type": "VARCHAR(255)",
                "key": ""
            }
        ]
    },
    "residence_contacts": {
        "description": "Table for residence_contacts",
        "context": "General data storage",
        "usage": "Backend API",
        "fields": [
            {
                "name": "contact_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "residence_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "name",
                "type": "VARCHAR(100)",
                "key": ""
            },
            {
                "name": "relation",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "phone",
                "type": "VARCHAR(20)",
                "key": ""
            },
            {
                "name": "comments",
                "type": "TEXT",
                "key": ""
            }
        ]
    },
    "urinalysis": {
        "description": "Drug test records.",
        "context": "Compliance monitoring",
        "usage": "Offender Profile, Lab Reports",
        "fields": [
            {
                "name": "test_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "offender_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "date",
                "type": "DATE",
                "key": ""
            },
            {
                "name": "test_type",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "result",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "lab_name",
                "type": "VARCHAR(100)",
                "key": ""
            },
            {
                "name": "collected_by_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "notes",
                "type": "TEXT",
                "key": ""
            }
        ]
    },
    "risk_assessment_types": {
        "description": "Definitions of available risk tools (ORAS, etc).",
        "context": "Configuration for risk scoring logic",
        "usage": "Risk Settings",
        "fields": [
            {
                "name": "type_id",
                "type": "INTEGER",
                "key": "PK"
            },
            {
                "name": "name",
                "type": "VARCHAR(50)",
                "key": "Unique"
            },
            {
                "name": "description",
                "type": "VARCHAR(255)",
                "key": ""
            },
            {
                "name": "scoring_matrix",
                "type": "JSON",
                "key": ""
            }
        ]
    },
    "risk_assessment_questions": {
        "description": "Table for risk_assessment_questions",
        "context": "General data storage",
        "usage": "Backend API",
        "fields": [
            {
                "name": "question_id",
                "type": "INTEGER",
                "key": "PK"
            },
            {
                "name": "universal_tag",
                "type": "VARCHAR(50)",
                "key": "Unique"
            },
            {
                "name": "question_text",
                "type": "VARCHAR(255)",
                "key": ""
            },
            {
                "name": "input_type",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "source_type",
                "type": "VARCHAR(20)",
                "key": ""
            },
            {
                "name": "assessments_list",
                "type": "VARCHAR(255)",
                "key": ""
            },
            {
                "name": "category",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "scoring_note",
                "type": "VARCHAR(255)",
                "key": ""
            },
            {
                "name": "options",
                "type": "JSON",
                "key": ""
            }
        ]
    },
    "risk_assessments": {
        "description": "Completed risk assessments for offenders.",
        "context": "Determines supervision level",
        "usage": "Offender Profile (Risk)",
        "fields": [
            {
                "name": "assessment_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "offender_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "date",
                "type": "DATE",
                "key": ""
            },
            {
                "name": "assessment_type",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "status",
                "type": "VARCHAR(20)",
                "key": ""
            },
            {
                "name": "total_score",
                "type": "INTEGER",
                "key": ""
            },
            {
                "name": "risk_level",
                "type": "VARCHAR(20)",
                "key": ""
            },
            {
                "name": "final_risk_level",
                "type": "VARCHAR(20)",
                "key": ""
            },
            {
                "name": "override_reason",
                "type": "VARCHAR(255)",
                "key": ""
            },
            {
                "name": "details",
                "type": "JSON",
                "key": ""
            }
        ]
    },
    "risk_assessment_answers": {
        "description": "Table for risk_assessment_answers",
        "context": "General data storage",
        "usage": "Backend API",
        "fields": [
            {
                "name": "answer_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "assessment_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "question_tag",
                "type": "VARCHAR(50)",
                "key": "FK"
            },
            {
                "name": "value",
                "type": "JSON",
                "key": ""
            },
            {
                "name": "is_imported",
                "type": "BOOLEAN",
                "key": ""
            },
            {
                "name": "source_assessment_id",
                "type": "UUID",
                "key": "FK"
            }
        ]
    },
    "appointments": {
        "description": "Scheduled meetings between officers and offenders.",
        "context": "Calendar management",
        "usage": "Calendar, Offender Profile",
        "fields": [
            {
                "name": "appointment_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "offender_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "officer_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "date_time",
                "type": "DATETIME",
                "key": ""
            },
            {
                "name": "location",
                "type": "VARCHAR(100)",
                "key": ""
            },
            {
                "name": "type",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "status",
                "type": "VARCHAR(20)",
                "key": ""
            },
            {
                "name": "notes",
                "type": "TEXT",
                "key": ""
            }
        ]
    },
    "system_settings": {
        "description": "Global application configuration.",
        "context": "Key-value store for app behavior",
        "usage": "System Configuration",
        "fields": [
            {
                "name": "key",
                "type": "VARCHAR(50)",
                "key": "PK"
            },
            {
                "name": "value",
                "type": "TEXT",
                "key": ""
            },
            {
                "name": "description",
                "type": "TEXT",
                "key": ""
            }
        ]
    },
    "form_templates": {
        "description": "Table for form_templates",
        "context": "General data storage",
        "usage": "Backend API",
        "fields": [
            {
                "name": "template_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "name",
                "type": "VARCHAR(100)",
                "key": ""
            },
            {
                "name": "description",
                "type": "TEXT",
                "key": ""
            },
            {
                "name": "form_schema",
                "type": "JSON",
                "key": ""
            },
            {
                "name": "created_at",
                "type": "DATETIME",
                "key": ""
            }
        ]
    },
    "form_submissions": {
        "description": "Table for form_submissions",
        "context": "General data storage",
        "usage": "Backend API",
        "fields": [
            {
                "name": "submission_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "template_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "offender_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "assigned_to_user_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "created_by_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "form_data",
                "type": "JSON",
                "key": ""
            },
            {
                "name": "status",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "is_locked",
                "type": "BOOLEAN",
                "key": ""
            },
            {
                "name": "current_step",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "created_at",
                "type": "DATETIME",
                "key": ""
            },
            {
                "name": "updated_at",
                "type": "DATETIME",
                "key": ""
            }
        ]
    },
    "workflow_logs": {
        "description": "Table for workflow_logs",
        "context": "General data storage",
        "usage": "Backend API",
        "fields": [
            {
                "name": "log_id",
                "type": "UUID",
                "key": "PK"
            },
            {
                "name": "submission_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "actor_id",
                "type": "UUID",
                "key": "FK"
            },
            {
                "name": "action",
                "type": "VARCHAR(50)",
                "key": ""
            },
            {
                "name": "comment",
                "type": "TEXT",
                "key": ""
            },
            {
                "name": "timestamp",
                "type": "DATETIME",
                "key": ""
            }
        ]
    }
}